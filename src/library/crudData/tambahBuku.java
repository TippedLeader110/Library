/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package library.crudData;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import javax.swing.JOptionPane;
import javax.swing.table.DefaultTableModel;
import library.Mysql.MysqlCon;

/**
 *
 * @author windows 10
 */
public class tambahBuku extends javax.swing.JFrame {

    /**
     * Creates new form tambahBuku
     */
        DefaultTableModel model = new DefaultTableModel(new String[]{"ISBN", "Judul", "Pengarang", "Penerbit", "Tahun Buku", "Jenis", "Kategori", "Lokasi", "Jumlah"}, 0){
        @Override
        
        public boolean isCellEditable(int row, int column) {
                return false;
        }
        };
    MysqlCon kon = new MysqlCon();
    public tambahBuku() {
        initComponents();
        LokasiCB.setEnabled(true);
        Jrak.setEnabled(false);
        Jtingkat.setEnabled(false);
        JNewKategori.setEnabled(false);
        KategoriCB.setEnabled(false);
        BuatBaru2.setEnabled(false);
        
        Statement stmt=kon.query();
        //combo box lokasi
        try{
            ResultSet rs = stmt.executeQuery("Select distinct lok_book.id_rak from perpus.lok_book");
            while(rs.next()){
                String lokasi = rs.getString("id_rak");
                LokasiCB.addItem(lokasi); 
            }   
        }catch (SQLException ex) {
            JOptionPane.showMessageDialog(this, "Kesalahan : " + ex, "Kesalahan", JOptionPane.ERROR_MESSAGE);   
        }
        
        //combo box kategori
        try{
            String jenis = JenisCB.getSelectedItem().toString();
            ResultSet rs2 = stmt.executeQuery("Select distinct book.kategori from perpus.book where jenis_buku = '"+ jenis +"'");
            while(rs2.next()){
                String kategori = rs2.getString("kategori"); 
                System.out.println(rs2.next());
                KategoriCB.addItem(kategori); 
            }
        }catch (SQLException ex) {
            JOptionPane.showMessageDialog(this, "Kesalahan : " + ex, "Kesalahan", JOptionPane.ERROR_MESSAGE);   
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel5 = new javax.swing.JPanel();
        title2 = new javax.swing.JLabel();
        jPanel6 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        Jisbn = new javax.swing.JTextField();
        Jjudul = new javax.swing.JTextField();
        Jpenerbit = new javax.swing.JTextField();
        Jthn = new javax.swing.JTextField();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        Jpengarang = new javax.swing.JTextField();
        Jrak = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        BuatBaru1 = new javax.swing.JButton();
        Jtingkat = new javax.swing.JTextField();
        LokasiCB = new javax.swing.JComboBox<>();
        Kategori = new javax.swing.JLabel();
        KategoriCB = new javax.swing.JComboBox<>();
        BuatBaru2 = new javax.swing.JButton();
        JJumlah = new javax.swing.JTextField();
        Kategori1 = new javax.swing.JLabel();
        JenisCB = new javax.swing.JComboBox<>();
        JNewKategori = new javax.swing.JTextField();
        Kategori2 = new javax.swing.JLabel();
        simpanB = new javax.swing.JButton();
        batalB = new javax.swing.JButton();
        jScrollPane1 = new javax.swing.JScrollPane();
        TambahBukuTable = new javax.swing.JTable();
        ResetFormB = new javax.swing.JButton();
        TambahB = new javax.swing.JButton();
        HapusKolomB = new javax.swing.JButton();
        ResetTableB = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel5.setBackground(new java.awt.Color(51, 153, 255));

        title2.setFont(new java.awt.Font("Arial", 1, 16)); // NOI18N
        title2.setForeground(new java.awt.Color(255, 255, 255));
        title2.setText("Tambah Buku");

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));

        jLabel16.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel16.setText("ISBN");

        jLabel17.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel17.setText("Judul");

        jLabel18.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel18.setText("Penerbit");

        jLabel19.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel19.setText("Tahun Buku");

        Jisbn.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Jisbn.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JisbnActionPerformed(evt);
            }
        });

        Jjudul.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Jjudul.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JjudulActionPerformed(evt);
            }
        });

        Jpenerbit.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N

        Jthn.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N

        jLabel20.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel20.setText("Pengarang");

        jLabel21.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel21.setText("Lokasi Buku");

        Jpengarang.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N

        Jrak.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Jrak.setText("No Rak");
        Jrak.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                JrakFocusGained(evt);
            }
        });
        Jrak.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JrakActionPerformed(evt);
            }
        });

        jLabel22.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        jLabel22.setText("Jumlah");

        BuatBaru1.setText("Buat baru");
        BuatBaru1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BuatBaru1ActionPerformed(evt);
            }
        });

        Jtingkat.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Jtingkat.setText("No Tingkat");
        Jtingkat.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                JtingkatFocusGained(evt);
            }
        });
        Jtingkat.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JtingkatActionPerformed(evt);
            }
        });

        Kategori.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Kategori.setText("Kategori");

        BuatBaru2.setText("Buat baru");
        BuatBaru2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                BuatBaru2ActionPerformed(evt);
            }
        });

        JJumlah.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N

        Kategori1.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        Kategori1.setText("Jenis Buku");

        JenisCB.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Umum", "Khusus", "Mapel" }));
        JenisCB.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                JenisCBItemStateChanged(evt);
            }
        });

        JNewKategori.setFont(new java.awt.Font("Arial", 0, 13)); // NOI18N
        JNewKategori.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                JNewKategoriActionPerformed(evt);
            }
        });

        Kategori2.setFont(new java.awt.Font("Arial", 0, 8)); // NOI18N
        Kategori2.setText("*pilih jenis buku sebelum ke kategori");

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel21)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel17)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(Jjudul, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel16)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(Jisbn, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel18)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(Jpenerbit, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel19)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(Jthn, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel20)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addComponent(Jpengarang, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel22)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addGroup(jPanel6Layout.createSequentialGroup()
                                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(Jrak, javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(LokasiCB, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(KategoriCB, javax.swing.GroupLayout.Alignment.LEADING, 0, 61, Short.MAX_VALUE)
                                            .addComponent(JenisCB, javax.swing.GroupLayout.Alignment.LEADING, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel6Layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                                    .addComponent(BuatBaru1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(Jtingkat)
                                                    .addComponent(BuatBaru2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                .addComponent(Kategori2))))
                                    .addComponent(JJumlah, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(JNewKategori, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(Kategori1)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(Kategori)
                        .addGap(0, 0, Short.MAX_VALUE))))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addGap(28, 28, 28)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel16)
                    .addComponent(Jisbn, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel17)
                    .addComponent(Jjudul, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel18)
                    .addComponent(Jpenerbit, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(Jthn, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel19))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(Jpengarang, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(BuatBaru1)
                    .addComponent(LokasiCB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(Jtingkat, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(Jrak, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(27, 27, 27)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(Kategori1)
                    .addComponent(JenisCB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(Kategori2))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(Kategori)
                    .addComponent(KategoriCB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(BuatBaru2))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(JNewKategori, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(JJumlah, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(42, Short.MAX_VALUE))
        );

        simpanB.setBackground(new java.awt.Color(0, 204, 0));
        simpanB.setFont(new java.awt.Font("Arial", 1, 13)); // NOI18N
        simpanB.setForeground(new java.awt.Color(255, 255, 255));
        simpanB.setText("Simpan");
        simpanB.setBorder(null);
        simpanB.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        simpanB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                simpanBActionPerformed(evt);
            }
        });

        batalB.setBackground(new java.awt.Color(255, 0, 0));
        batalB.setFont(new java.awt.Font("Arial", 1, 13)); // NOI18N
        batalB.setForeground(new java.awt.Color(255, 255, 255));
        batalB.setText("Batal");
        batalB.setBorder(null);
        batalB.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        batalB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                batalBActionPerformed(evt);
            }
        });

        TambahBukuTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Title 1", "Title 2", "Title 3", "Title 4"
            }
        ));
        jScrollPane1.setViewportView(TambahBukuTable);

        ResetFormB.setText("Reset Form");
        ResetFormB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ResetFormBActionPerformed(evt);
            }
        });

        TambahB.setText("Tambah Ke Tabel");
        TambahB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                TambahBActionPerformed(evt);
            }
        });

        HapusKolomB.setText("Hapus Kolom");
        HapusKolomB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                HapusKolomBActionPerformed(evt);
            }
        });

        ResetTableB.setText("Reset Tabel");
        ResetTableB.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ResetTableBActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jScrollPane1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 568, Short.MAX_VALUE)
                                    .addGroup(jPanel5Layout.createSequentialGroup()
                                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel5Layout.createSequentialGroup()
                                                .addComponent(ResetTableB)
                                                .addGap(32, 32, 32)
                                                .addComponent(HapusKolomB))
                                            .addGroup(jPanel5Layout.createSequentialGroup()
                                                .addComponent(simpanB, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(79, 79, 79)
                                                .addComponent(batalB, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                        .addGap(0, 0, Short.MAX_VALUE))))
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addComponent(ResetFormB)
                                .addGap(0, 0, Short.MAX_VALUE))))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGap(358, 358, 358)
                                .addComponent(title2))
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGap(116, 116, 116)
                                .addComponent(TambahB)))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addGap(45, 45, 45)
                        .addComponent(ResetFormB)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(TambahB))
                    .addGroup(jPanel5Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(title2)
                        .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGap(49, 49, 49)
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(ResetTableB)
                                    .addComponent(HapusKolomB))
                                .addGap(18, 18, 18)
                                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel5Layout.createSequentialGroup()
                                .addGap(236, 236, 236)
                                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(simpanB, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(batalB, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE))))))
                .addContainerGap(53, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void JisbnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JisbnActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JisbnActionPerformed

    private void JrakActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JrakActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JrakActionPerformed

    private void BuatBaru1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BuatBaru1ActionPerformed
        // TODO add your handling code here:
        LokasiCB.setEnabled(false);
        Jrak.setEnabled(true);
        Jtingkat.setEnabled(true);
    }//GEN-LAST:event_BuatBaru1ActionPerformed

    private void JtingkatActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JtingkatActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JtingkatActionPerformed

    private void BuatBaru2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BuatBaru2ActionPerformed
        // TODO add your handling code here:
        KategoriCB.setEnabled(false);
        JNewKategori.setEnabled(true);
    }//GEN-LAST:event_BuatBaru2ActionPerformed

    private void JNewKategoriActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JNewKategoriActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JNewKategoriActionPerformed

    private void simpanBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_simpanBActionPerformed
        crud c = new crud();
        int row = 0;
        int max_row= model.getRowCount();
        while(row<max_row){
            String isbn =  TambahBukuTable.getModel().getValueAt(row, 0).toString();
            String judul = TambahBukuTable.getModel().getValueAt(row, 1).toString();
            String penerbit = TambahBukuTable.getModel().getValueAt(row, 3).toString();
            String tahun = TambahBukuTable.getModel().getValueAt(row, 4).toString();
            String pengarang = TambahBukuTable.getModel().getValueAt(row, 2).toString();
            String lokasi = TambahBukuTable.getModel().getValueAt(row, 7).toString();
            String jumlah = TambahBukuTable.getModel().getValueAt(row, 8).toString();
            String jenis = TambahBukuTable.getModel().getValueAt(row, 5).toString();
            String kategori = TambahBukuTable.getModel().getValueAt(row, 6).toString();
            int rs = c.createBuku(isbn,judul,penerbit,tahun,pengarang,lokasi,jumlah,jenis,kategori);
            if(rs!=0){
                row++;
                if(row==max_row){
                    JOptionPane.showMessageDialog(this, "Sukses ", "Sukses", JOptionPane.INFORMATION_MESSAGE);
                    break;
                }
            }
            else{
                JOptionPane.showMessageDialog(this, "Kesalahan", "Kesalahan", JOptionPane.ERROR_MESSAGE);
                break;
            }
        }
        
        this.dispose();
    }//GEN-LAST:event_simpanBActionPerformed

    private void batalBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_batalBActionPerformed
        // TODO add your handling code here:
        this.dispose();
    }//GEN-LAST:event_batalBActionPerformed

    private void TambahBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_TambahBActionPerformed
        // TODO add your handling code here:
        
        String jenis = (JenisCB.getSelectedItem()).toString();
        //lokasi
        String lokasi;
        if((Jrak.getText()).equals("No Rak")){
            lokasi = (LokasiCB.getSelectedItem()).toString(); 
        }else
            lokasi = Jrak.getText()+""+Jtingkat.getText();
        
        //kategori
        String kategori;
        if((JNewKategori.getText()).equals("")){
            kategori = (KategoriCB.getSelectedItem()).toString();
        }else
            kategori = JNewKategori.getText();
        
        String isbn = Jisbn.getText();
        String judul = Jjudul.getText();
        String pengarang = Jpengarang.getText();
        String penerbit = Jpenerbit.getText();
        String tahun = Jthn.getText();
        String jumlah = JJumlah.getText();
        model.addRow(new Object[]{isbn, judul, pengarang, penerbit, tahun, jenis, kategori, lokasi, jumlah});
        TambahBukuTable.setModel(model);
        
        //rules isbn unique
        int row = 0;
        int row2 = 1;
        int max_row = model.getRowCount();
        if(max_row>=2){
            while(row<max_row){
                String id = TambahBukuTable.getModel().getValueAt(row, 0).toString();
                String id2 = TambahBukuTable.getModel().getValueAt(row2, 0).toString();
                if(id.equals(id2)){
                    JOptionPane.showMessageDialog(this, "Kesalahan", "Kesalahan", JOptionPane.ERROR_MESSAGE);
                    model.setRowCount(row2);
                    break;
                }else{
                    row2++;
                    if(row2==max_row){
                        row++;
                        row2=row+1;
                        continue;
                    }else
                        continue;
                }
            }
        }        
    }//GEN-LAST:event_TambahBActionPerformed

    private void JrakFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_JrakFocusGained
        // TODO add your handling code here:
        Jrak.setText("");
    }//GEN-LAST:event_JrakFocusGained

    private void JtingkatFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_JtingkatFocusGained
        // TODO add your handling code here:
        Jtingkat.setText("");
    }//GEN-LAST:event_JtingkatFocusGained

    private void ResetTableBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ResetTableBActionPerformed
        // TODO add your handling code here:
        model.setRowCount(0);
    }//GEN-LAST:event_ResetTableBActionPerformed

    private void HapusKolomBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_HapusKolomBActionPerformed
        // TODO add your handling code here:
        int numRows = TambahBukuTable.getSelectedRows().length;
        for(int i=0; i<numRows ; i++ ) {
            model.removeRow(TambahBukuTable.getSelectedRow());
        }
    }//GEN-LAST:event_HapusKolomBActionPerformed

    private void ResetFormBActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ResetFormBActionPerformed
        // TODO add your handling code here:
        Jisbn.setText("");
	Jjudul.setText("");
	Jpenerbit.setText("");
	Jthn.setText("");
	Jpengarang.setText("");
	Jrak.setText("No Rak");
	Jtingkat.setText("No Tingkat");
	JNewKategori.setText("");
	JJumlah.setText("");
        LokasiCB.setEnabled(true);
        Jrak.setEnabled(false);
        Jtingkat.setEnabled(false);
        KategoriCB.setEnabled(false);
        JNewKategori.setEnabled(false);
    }//GEN-LAST:event_ResetFormBActionPerformed

    private void JjudulActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_JjudulActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_JjudulActionPerformed

    private void JenisCBItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_JenisCBItemStateChanged
        // TODO add your handling code here:
        KategoriCB.setEnabled(true);
        BuatBaru2.setEnabled(true);
        Statement stmt=kon.query();
        KategoriCB.removeAllItems();
         try{
            String jenis = JenisCB.getSelectedItem().toString();
            ResultSet rs2 = stmt.executeQuery("Select distinct book.kategori from perpus.book where jenis_buku = '"+ jenis +"'");
            while(rs2.next()){
                String kategori = rs2.getString("kategori");
                KategoriCB.addItem(kategori); 
            }
        }catch (SQLException ex) {
            JOptionPane.showMessageDialog(this, "Kesalahan : " + ex, "Kesalahan", JOptionPane.ERROR_MESSAGE);   
        }
    }//GEN-LAST:event_JenisCBItemStateChanged

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(tambahBuku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(tambahBuku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(tambahBuku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(tambahBuku.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new tambahBuku().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton BuatBaru1;
    private javax.swing.JButton BuatBaru2;
    private javax.swing.JButton HapusKolomB;
    private javax.swing.JTextField JJumlah;
    private javax.swing.JTextField JNewKategori;
    private javax.swing.JComboBox<String> JenisCB;
    private javax.swing.JTextField Jisbn;
    private javax.swing.JTextField Jjudul;
    private javax.swing.JTextField Jpenerbit;
    private javax.swing.JTextField Jpengarang;
    private javax.swing.JTextField Jrak;
    private javax.swing.JTextField Jthn;
    private javax.swing.JTextField Jtingkat;
    private javax.swing.JLabel Kategori;
    private javax.swing.JLabel Kategori1;
    private javax.swing.JLabel Kategori2;
    private javax.swing.JComboBox<String> KategoriCB;
    private javax.swing.JComboBox<String> LokasiCB;
    private javax.swing.JButton ResetFormB;
    private javax.swing.JButton ResetTableB;
    private javax.swing.JButton TambahB;
    private javax.swing.JTable TambahBukuTable;
    private javax.swing.JButton batalB;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JButton simpanB;
    private javax.swing.JLabel title2;
    // End of variables declaration//GEN-END:variables
}
